<!--
<md-dialog>
    <md-toolbar>
        <div class="md-toolbar-tools">Advanced Search !
         <span flex></span>
        </div>
    </md-toolbar>

    <md-dialog-content>
        <div class="md-dialog-content">

            <div >
            {{ dialog.actorSearchText }}
            </div>

            <div layout="row">
                <md-input-container flex="100">
                <label>Adv Search string</label>
                <input ng-model="dialog.advSearchString">
            </md-input-container>
            </div>



        <md-autocomplete

                md-search-text="dialog.actorSearchText"
                md-items="item in $root.autoCompleteGetItems('actors',dialog.actorSearchText)"
                md-selected-item="dialog.mdSelectedItem"
                md-item-text="item.name"
                placeholder="{{ $ctrl.objectType }}">
            <md-item-template>
                <span md-highlight-text="$ctrl.searchText" md-highlight-flags="^i">{{ item.name }}</span>
            </md-item-template>

        </md-autocomplete>
        <md-button class="md-raised" ng-click="dialog.actorAddAND(dialog.actorSearchText)">
            Add AND
        </md-button>

        </div>




    </md-dialog-content>

    <md-dialog-actions>
        <md-button aria-label="Close dialog" ng-click="dialog.close()" class="md-primary">
            Cancel
        </md-button>

        <md-button aria-label="Submit dialog" ng-click="dialog.submit()" class="md-warn">
            Proceed
        </md-button>
    </md-dialog-actions>


</md-dialog>
-->


<md-dialog aria-label="Mango (Fruit)">
    <form ng-cloak>
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Advanced search</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="cancel()">

                </md-button>
            </div>
        </md-toolbar>

        <md-dialog-content>
            <div class="md-dialog-content">
                <h3>Instructions</h3>
                <p>Choose a search option from the drop down menu, and type in your query in the autocomplete input
                    below.
                    Once you select one of the possible results, your
                    query will be pasted into the 'Adv Search String'. You can add multiple queries and use the logic
                    operations AND(&amp;&amp;)
                    OR(||) and NOT(!!) and parenthesis.</p>

                <p>Example: Let's say you want to search for only lesbian scenes of actress 'Stoya'. First you'll choose
                    actors in the drop down menu and then, go into the auto complete and type in 'stoya' (case doesn't
                    matter)
                    which will yield {&quot;actors&quot;:&quot;Stoya&quot;} in the 'Adv search string'. Now you would
                    choose 'scene_tags' from the
                    drop and type 'les' which will yield {&quot;actors&quot;:&quot;Stoya&quot;}{&quot;scene_tags&quot;:&quot;Lesbian&quot;}.

                    Because we want 'stoya' AND 'lesbian' we will add the AND(&amp;&amp;) operator :
                    {&quot;actors&quot;:&quot;Stoya&quot;} &amp;&amp; {&quot;scene_tags&quot;:&quot;Lesbian&quot;}

                    We can also search for 'stoya' AND NOT 'lesbian, like so:
                    {&quot;actors&quot;:&quot;Stoya&quot;} &amp;&amp; (!!{&quot;scene_tags&quot;:&quot;Lesbian&quot;})


                </p>

                <div>
                    {{ dialog.advSearchString }}
                </div>

                <div layout="column">
                    <div flex="">
                        <md-input-container flex="100">
                        <label>Adv Search string</label>
                        <input autocomplete="on" type="text" ng-model="dialog.advSearchString">
                    </md-input-container>
                    </div>

                    <div flex="">
                        <md-autocomplete
                            ng-model="dialog.advSearchString"
                            md-search-text="dialog.advSearchString"
                            md-items="item in dialog.remeberedQueries"
                            md-item-text="item"

                        <md-item-template>
                            <span md-highlight-text="ctrl.searchText" md-highlight-flags="^i">{{item}}</span>
                        </md-item-template>

                    </md-autocomplete>
                    </div>





                </div>


                <div>
                    <md-input-container>
                        <label>Search Option</label>
                        <md-select ng-model="dialog.selectedOption">
                            <md-option ng-repeat="option in dialog.options" ng-value="option.abbrev"
                            >
                                {{ option.abbrev }}
                            </md-option>
                        </md-select>
                    </md-input-container>
                    <md-input-container>
                        <label>Scene Properties</label>
                        <md-select ng-model="dialog.selectedOption"
                                   md-on-close="dialog.onSelect(dialog.selectedOption,'scene_properties')">
                            <md-option ng-repeat="option in dialog.scene_properties" ng-value="option"
                            >
                                {{ option }}
                            </md-option>

                        </md-select>
                    </md-input-container>
                    <md-input-container>
                        <label>Actor Properties</label>
                        <md-select ng-model="dialog.selectedOption"
                                   md-on-close="dialog.onSelect(dialog.selectedOption,'actor_properties')">
                            <md-option ng-repeat="option in dialog.actor_properties" ng-value="option"
                            >
                                {{ option }}
                            </md-option>

                        </md-select>
                    </md-input-container>

                </div>
                <md-autocomplete

                        md-search-text="dialog.actorSearchText"
                        md-items="item in $root.autoCompleteGetItems(dialog.selectedOption,dialog.actorSearchText)"
                        md-selected-item="dialog.mdSelectedItem"
                        md-item-text="item.name"
                        md-selected-item-change="dialog.onSelect(dialog.selectedOption,dialog.mdSelectedItem)"
                        md-floating-label="Autocomplete input">
                    <md-item-template>
                        <span md-highlight-text="$ctrl.searchText" md-highlight-flags="^i">{{ item.name }}</span>
                    </md-item-template>

                </md-autocomplete>
                <md-button class="md-raised" ng-click="dialog.clearSearchString()">
                    Clear
                </md-button>

            </div>
        </md-dialog-content>

        <md-dialog-actions layout="row">
            <md-button href="http://en.wikipedia.org/wiki/Mango" target="_blank" md-autofocus>
                More on Wikipedia
            </md-button>
            <span flex></span>
            <md-button ng-click="dialog.close()">
                Close
            </md-button>
            <md-button ng-click="dialog.submit()">
                Submit
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>